# راهنمای رفع مشکلات - Troubleshooting Guide

## 🔧 مشکلات رایج و راه‌حل‌ها

---

## ❌ مشکل 1: "لطفا تمام فیلدها را پر کنید"

### علائم:
- همه فیلدها پر شده‌اند
- اما پیغام خطا "لطفا تمام فیلدها را پر کنید" نمایش می‌دهد

### راه‌حل‌ها:

#### ✅ راه‌حل 1: بررسی فیلد تاریخ
تاریخ را **دستی** وارد کنید به جای استفاده از تقویم:
```
فرمت: 1403/08/01
```

#### ✅ راه‌حل 2: بررسی کد ملی
- کد ملی باید دقیقاً **10 رقم** باشد
- فقط عدد (بدون خط فاصله یا کاراکتر دیگر)
- مثال صحیح: `1234567890`
- مثال غلط: `123-456-7890` یا `123456789`

#### ✅ راه‌حل 3: بررسی طرح انتخابی
- حتماً یکی از طرح‌ها را **تیک بزنید**
- اگر تیک نمی‌خورد، صفحه را Refresh کنید

#### ✅ راه‌حل 4: بررسی امضا
- حتماً در کادر امضا یک خط بکشید
- اگر امضا نمایش نمی‌دهد، صفحه را Refresh کنید

#### ✅ راه‌حل 5: Console را چک کنید
1. کلید `F12` را بزنید
2. تب **Console** را باز کنید
3. فرم را Submit کنید
4. پیغام "Sending form data:" را ببینید
5. همه فیلدها باید مقدار داشته باشند

---

## 📅 مشکل 2: تقویم شمسی باز نمی‌شود

### راه‌حل‌ها:

#### ✅ راه‌حل 1: Cache مرورگر
```
1. Ctrl + Shift + Delete
2. پاک کردن Cache
3. Refresh صفحه با Ctrl + F5
```

#### ✅ راه‌حل 2: ورود دستی
تقویم اجباری نیست! تاریخ را دستی وارد کنید:
```
فرمت: YYYY/MM/DD
مثال: 1403/08/01
```

#### ✅ راه‌حل 3: بررسی JavaScript
1. `F12` را بزنید
2. تب **Console** بروید
3. باید ببینید: "Persian DatePicker initialized successfully"
4. اگر خطا می‌بینید، صفحه را Refresh کنید

---

## 🖊️ مشکل 3: امضا کار نمی‌کند

### راه‌حل‌ها:

#### ✅ راه‌حل 1: بررسی کادر
- کادر امضا باید **سفید** باشد
- اگر خاکستری است، صفحه را Refresh کنید

#### ✅ راه‌حل 2: موبایل/تبلت
- مطمئن شوید صفحه Zoom ندارد
- از انگشت استفاده کنید نه Stylus

#### ✅ راه‌حل 3: دسکتاپ
- موس را داخل کادر بکشید
- اگر کار نکرد، صفحه را Refresh کنید

---

## 🔴 مشکل 4: خطای ارسال فرم

### علائم:
پیغام "خطا در ارتباط با سرور" یا "خطا در ثبت قرارداد"

### راه‌حل‌ها:

#### ✅ راه‌حل 1: بررسی اتصال اینترنت
```
- مطمئن شوید اینترنت متصل است
- صفحه را Refresh کنید
```

#### ✅ راه‌حل 2: بررسی دیتابیس
اگر مدیر سایت هستید:
```
1. به پنل مدیریت بروید
2. افزونه را غیرفعال کنید
3. مجدداً فعال کنید (دیتابیس بازسازی می‌شود)
```

#### ✅ راه‌حل 3: بررسی حجم امضا
امضای خیلی بزرگ ممکن است مشکل ایجاد کند:
```
- امضای ساده‌تری بکشید
- از Zoom خارج شوید
```

---

## ⚠️ مشکل 5: پیام موفقیت نمایش نمی‌دهد

### راه‌حل‌ها:

#### ✅ راه‌حل 1: اسکرول کنید
پیغام ممکن است بالای صفحه باشد:
```
- به بالای فرم اسکرول کنید
- پیغام سبز رنگ را ببینید
```

#### ✅ راه‌حل 2: بررسی دیتابیس
چک کنید قرارداد ذخیره شده یا نه:
```
داشبورد → قراردادهای همکاری
```

---

## 🎨 مشکل 6: ظاهر نامناسب (CSS)

### راه‌حل‌ها:

#### ✅ راه‌حل 1: Refresh کامل
```
Ctrl + F5 (Windows)
Cmd + Shift + R (Mac)
```

#### ✅ راه‌حل 2: پاک کردن Cache
```
1. Ctrl + Shift + Delete
2. انتخاب "تصاویر و فایل‌های کش شده"
3. پاک کردن
```

#### ✅ راه‌حل 3: تم وردپرس
بعضی تم‌ها با افزونه تداخل دارند:
```
1. تم را موقتاً عوض کنید (مثلاً به Twenty Twenty)
2. افزونه را تست کنید
3. اگر کار کرد، تم مشکل دارد
```

---

## 🔍 راهنمای Debug

### مرحله 1: باز کردن Console
```
Windows/Linux: F12 یا Ctrl + Shift + I
Mac: Cmd + Option + I
```

### مرحله 2: بررسی خطاها
در تب **Console**:
- ✅ اگر پیغام سبز می‌بینید = خطا ندارد
- ❌ اگر پیغام قرمز می‌بینید = خطا دارد

### مرحله 3: بررسی Network
1. تب **Network** را باز کنید
2. فرم را Submit کنید
3. درخواست `admin-ajax.php` را پیدا کنید
4. Response را بررسی کنید

---

## 📝 چک‌لیست قبل از ثبت قرارداد

قبل از کلیک روی "ثبت قرارداد"، این موارد را چک کنید:

- [ ] نام: پر شده ✓
- [ ] نام خانوادگی: پر شده ✓
- [ ] کد ملی: 10 رقم ✓
- [ ] نام آموزشگاه: پر شده ✓
- [ ] سمت/عنوان: پر شده ✓
- [ ] آدرس: پر شده ✓
- [ ] تاریخ: به فرمت 1403/08/01 ✓
- [ ] طرح: یکی انتخاب شده ✓
- [ ] امضا: کشیده شده ✓

---

## 🆘 همچنان مشکل دارید؟

### گام 1: تست پایه
```html
<!-- این کد را در صفحه دیگری تست کنید -->
[cooperation_contract]
```

### گام 2: بررسی افزونه‌های دیگر
```
1. همه افزونه‌های دیگر را غیرفعال کنید
2. افزونه قرارداد را تست کنید
3. اگر کار کرد، یکی از افزونه‌های دیگر تداخل دارد
```

### گام 3: بررسی تم
```
1. تم را به Twenty Twenty-Four تغییر دهید
2. افزونه را تست کنید
```

### گام 4: بررسی PHP و MySQL
```
- PHP باید 7.0 یا بالاتر باشد
- MySQL باید 5.6 یا بالاتر باشد
```

---

## 💡 نکات مهم

1. **همیشه از HTTPS استفاده کنید** - برای امنیت امضای دیجیتال
2. **Cache را پاک کنید** - بعد از هر آپدیت
3. **JavaScript را فعال کنید** - افزونه بدون JS کار نمی‌کند
4. **Backup بگیرید** - قبل از هر تغییر مهم

---

## 📞 اطلاعات بیشتر

برای اطلاعات بیشتر، این فایل‌ها را مطالعه کنید:
- `README.md` - راهنمای کامل
- `INSTALLATION.md` - راهنمای نصب
- `STORAGE-FORMAT.md` - نحوه ذخیره‌سازی
- `CHANGES-SUMMARY.md` - تغییرات اخیر

---

**آخرین به‌روزرسانی**: نسخه 1.2.0
